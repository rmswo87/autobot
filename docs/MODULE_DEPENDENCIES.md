# ëª¨ë“ˆ ì˜ì¡´ì„± ë§µ

## ğŸ“‹ ë¬¸ì„œ ê°œìš”

ì´ ë¬¸ì„œëŠ” Autobot í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ëª¨ë“ˆ ê°„ ì˜ì¡´ê´€ê³„ë¥¼ ì¤‘ì•™ì—ì„œ ê´€ë¦¬í•˜ëŠ” ë§ˆìŠ¤í„° ë§µì…ë‹ˆë‹¤.

**ìµœì¢… ìˆ˜ì •ì¼**: 2024-12-02  
**ë²„ì „**: 1.0.0

---

## ğŸ—ºï¸ ì „ì²´ ì˜ì¡´ì„± ê·¸ë˜í”„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        App Layer                            â”‚
â”‚  app/App.tsx, app/routes.tsx, app/providers.tsx            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â–¼                 â–¼                 â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   auth       â”‚  â”‚   settings   â”‚  â”‚   blogger    â”‚  â”‚    music     â”‚
â”‚  feature     â”‚  â”‚   feature    â”‚  â”‚   feature    â”‚  â”‚   feature    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚                  â”‚                  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    Shared Layer      â”‚
              â”‚  components, hooks,  â”‚
              â”‚  services, utils     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  External Libraries  â”‚
              â”‚  react, axios, etc   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ ëª¨ë“ˆë³„ ìƒì„¸ ì˜ì¡´ì„±

### 1. ì¸ì¦ ëª¨ë“ˆ (auth)

**ê²½ë¡œ**: `src/features/auth/`

#### ì˜ì¡´í•˜ëŠ” ëª¨ë“ˆ (Dependencies)
```
auth/
â”œâ”€â”€ shared/services/api/client.ts          # API í´ë¼ì´ì–¸íŠ¸
â”œâ”€â”€ shared/services/storage/storageService.ts  # í† í° ì €ì¥
â”œâ”€â”€ shared/components/ui/Button.tsx      # UI ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ shared/components/ui/Input.tsx        # UI ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ shared/utils/validators.ts            # ìœ íš¨ì„± ê²€ì‚¬
â””â”€â”€ shared/types/api.types.ts             # API íƒ€ì…
```

#### ì˜ì¡´ë°›ëŠ” ëª¨ë“ˆ (Dependents)
```
app/routes.tsx                            # ë¼ìš°íŒ…
app/providers.tsx                         # AuthProvider
features/settings/components/SettingsPage.tsx  # ì¸ì¦ í™•ì¸
features/blogger/components/BloggerConnect.tsx  # ì¸ì¦ í™•ì¸
features/youtube/components/YouTubeConnect.tsx   # ì¸ì¦ í™•ì¸
```

#### ë‚´ë¶€ ì˜ì¡´ì„±
```
auth/
â”œâ”€â”€ components/LoginForm.tsx
â”‚   â”œâ”€â”€ hooks/useLogin.ts
â”‚   â”œâ”€â”€ services/authService.ts
â”‚   â””â”€â”€ shared/components/ui/*
â”‚
â”œâ”€â”€ hooks/useAuth.ts
â”‚   â”œâ”€â”€ services/authService.ts
â”‚   â””â”€â”€ shared/services/storage/storageService.ts
â”‚
â””â”€â”€ services/authService.ts
    â”œâ”€â”€ shared/services/api/client.ts
    â””â”€â”€ shared/types/api.types.ts
```

---

### 2. ì„¤ì • ëª¨ë“ˆ (settings)

**ê²½ë¡œ**: `src/features/settings/`

#### ì˜ì¡´í•˜ëŠ” ëª¨ë“ˆ
```
settings/
â”œâ”€â”€ shared/services/api/client.ts          # API í´ë¼ì´ì–¸íŠ¸
â”œâ”€â”€ shared/components/ui/*                # UI ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ shared/utils/validators.ts             # ìœ íš¨ì„± ê²€ì‚¬
â”œâ”€â”€ features/auth/hooks/useAuth.ts        # ì¸ì¦ í™•ì¸ (ê°„ì ‘)
â””â”€â”€ backend/src/shared/utils/encryption.ts  # ì•”í˜¸í™” (ë°±ì—”ë“œ)
```

#### ì˜ì¡´ë°›ëŠ” ëª¨ë“ˆ
```
features/blogger/services/bloggerService.ts  # API í‚¤ ì¡°íšŒ
features/music/services/sunoService.ts       # API í‚¤ ì¡°íšŒ
features/youtube/services/youtubeService.ts  # API í‚¤ ì¡°íšŒ
```

#### ë‚´ë¶€ ì˜ì¡´ì„±
```
settings/
â”œâ”€â”€ components/SettingsPage.tsx
â”‚   â”œâ”€â”€ components/ApiKeyForm.tsx
â”‚   â””â”€â”€ hooks/useApiKeys.ts
â”‚
â”œâ”€â”€ components/ApiKeyForm.tsx
â”‚   â”œâ”€â”€ components/ApiKeyInput.tsx
â”‚   â”œâ”€â”€ hooks/useApiKeys.ts
â”‚   â””â”€â”€ shared/components/ui/*
â”‚
â””â”€â”€ services/apiKeyService.ts
    â”œâ”€â”€ shared/services/api/client.ts
    â””â”€â”€ backend/src/shared/utils/encryption.ts
```

---

### 3. ë¸”ë¡œê±° ëª¨ë“ˆ (blogger)

**ê²½ë¡œ**: `src/features/blogger/`

#### ì˜ì¡´í•˜ëŠ” ëª¨ë“ˆ
```
blogger/
â”œâ”€â”€ shared/services/api/client.ts          # API í´ë¼ì´ì–¸íŠ¸
â”œâ”€â”€ shared/components/ui/*                # UI ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ features/settings/services/apiKeyService.ts  # API í‚¤ ì¡°íšŒ (ê°„ì ‘)
â””â”€â”€ features/auth/hooks/useAuth.ts        # ì¸ì¦ í™•ì¸
```

#### ì˜ì¡´ë°›ëŠ” ëª¨ë“ˆ
```
app/routes.tsx                            # ë¼ìš°íŒ…
```

#### ë‚´ë¶€ ì˜ì¡´ì„±
```
blogger/
â”œâ”€â”€ components/BlogPostCreate.tsx
â”‚   â”œâ”€â”€ components/ContentGenerator.tsx
â”‚   â”œâ”€â”€ components/ImageGenerator.tsx
â”‚   â”œâ”€â”€ components/PostPreview.tsx
â”‚   â”œâ”€â”€ hooks/useContentGeneration.ts
â”‚   â””â”€â”€ hooks/useScheduling.ts
â”‚
â”œâ”€â”€ services/bloggerService.ts
â”‚   â”œâ”€â”€ shared/services/api/client.ts
â”‚   â””â”€â”€ features/settings/services/apiKeyService.ts (ê°„ì ‘)
â”‚
â””â”€â”€ services/contentService.ts
    â”œâ”€â”€ shared/services/api/client.ts
    â””â”€â”€ features/settings/services/apiKeyService.ts (ê°„ì ‘)
```

---

### 4. ìŒì› ëª¨ë“ˆ (music)

**ê²½ë¡œ**: `src/features/music/`

#### ì˜ì¡´í•˜ëŠ” ëª¨ë“ˆ
```
music/
â”œâ”€â”€ shared/services/api/client.ts          # API í´ë¼ì´ì–¸íŠ¸
â”œâ”€â”€ shared/components/ui/*                # UI ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ features/settings/services/apiKeyService.ts  # API í‚¤ ì¡°íšŒ (ê°„ì ‘)
â””â”€â”€ features/auth/hooks/useAuth.ts        # ì¸ì¦ í™•ì¸
```

#### ì˜ì¡´ë°›ëŠ” ëª¨ë“ˆ
```
features/youtube/services/videoService.ts  # ìŒì› ë°ì´í„° ì‚¬ìš©
app/routes.tsx                              # ë¼ìš°íŒ…
```

#### ë‚´ë¶€ ì˜ì¡´ì„±
```
music/
â”œâ”€â”€ components/MusicCreate.tsx
â”‚   â”œâ”€â”€ components/MusicGenerator.tsx
â”‚   â”œâ”€â”€ components/LyricsEditor.tsx
â”‚   â”œâ”€â”€ hooks/useMusicGeneration.ts
â”‚   â””â”€â”€ shared/components/ui/*
â”‚
â”œâ”€â”€ services/musicService.ts
â”‚   â”œâ”€â”€ shared/services/api/client.ts
â”‚   â””â”€â”€ features/settings/services/apiKeyService.ts (ê°„ì ‘)
â”‚
â””â”€â”€ services/sunoService.ts
    â”œâ”€â”€ shared/services/api/client.ts
    â””â”€â”€ features/settings/services/apiKeyService.ts (ê°„ì ‘)
```

---

### 5. ìœ íŠœë¸Œ ëª¨ë“ˆ (youtube)

**ê²½ë¡œ**: `src/features/youtube/`

#### ì˜ì¡´í•˜ëŠ” ëª¨ë“ˆ
```
youtube/
â”œâ”€â”€ shared/services/api/client.ts          # API í´ë¼ì´ì–¸íŠ¸
â”œâ”€â”€ shared/components/ui/*                # UI ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ features/settings/services/apiKeyService.ts  # API í‚¤ ì¡°íšŒ (ê°„ì ‘)
â”œâ”€â”€ features/music/services/musicService.ts     # ìŒì› ë°ì´í„°
â””â”€â”€ features/auth/hooks/useAuth.ts        # ì¸ì¦ í™•ì¸
```

#### ì˜ì¡´ë°›ëŠ” ëª¨ë“ˆ
```
app/routes.tsx                            # ë¼ìš°íŒ…
```

#### ë‚´ë¶€ ì˜ì¡´ì„±
```
youtube/
â”œâ”€â”€ components/VideoUpload.tsx
â”‚   â”œâ”€â”€ components/ThumbnailGenerator.tsx
â”‚   â”œâ”€â”€ hooks/useVideoUpload.ts
â”‚   â””â”€â”€ features/music/services/musicService.ts
â”‚
â”œâ”€â”€ services/youtubeService.ts
â”‚   â”œâ”€â”€ shared/services/api/client.ts
â”‚   â””â”€â”€ features/settings/services/apiKeyService.ts (ê°„ì ‘)
â”‚
â””â”€â”€ services/videoService.ts
    â”œâ”€â”€ shared/services/api/client.ts
    â”œâ”€â”€ features/music/services/musicService.ts
    â””â”€â”€ features/settings/services/apiKeyService.ts (ê°„ì ‘)
```

---

### 6. ê³µìœ  ëª¨ë“ˆ (shared)

**ê²½ë¡œ**: `src/shared/`

#### ì˜ì¡´í•˜ëŠ” ëª¨ë“ˆ
```
shared/
â”œâ”€â”€ External Libraries
â”‚   â”œâ”€â”€ react
â”‚   â”œâ”€â”€ react-dom
â”‚   â”œâ”€â”€ axios
â”‚   â”œâ”€â”€ @tanstack/react-query
â”‚   â””â”€â”€ shadcn/ui components
â””â”€â”€ (ë‹¤ë¥¸ shared ëª¨ë“ˆ - ì œí•œì )
```

#### ì˜ì¡´ë°›ëŠ” ëª¨ë“ˆ
```
ëª¨ë“  features ëª¨ë“ˆ
app ëª¨ë“ˆ
```

#### ë‚´ë¶€ ì˜ì¡´ì„±
```
shared/
â”œâ”€â”€ services/api/client.ts
â”‚   â”œâ”€â”€ axios
â”‚   â””â”€â”€ shared/types/api.types.ts
â”‚
â”œâ”€â”€ services/storage/storageService.ts
â”‚   â””â”€â”€ (ë¸Œë¼ìš°ì € API)
â”‚
â””â”€â”€ components/ui/*
    â””â”€â”€ shared/lib/utils.ts
```

---

## ğŸ”„ ìˆœí™˜ ì˜ì¡´ì„± ì²´í¬

### ê¸ˆì§€ëœ ì˜ì¡´ì„± íŒ¨í„´

âŒ **ìˆœí™˜ ì˜ì¡´ì„± ì˜ˆì‹œ**:
```
auth â†’ settings â†’ auth  (ê¸ˆì§€!)
blogger â†’ music â†’ blogger  (ê¸ˆì§€!)
```

âœ… **ì˜¬ë°”ë¥¸ ì˜ì¡´ì„± íŒ¨í„´**:
```
auth â†’ shared
settings â†’ shared
blogger â†’ shared
music â†’ shared
youtube â†’ shared
```

### ì˜ì¡´ì„± í•´ê²° ë°©ë²•

**ë¬¸ì œ**: `blogger`ê°€ `music`ì˜ ë°ì´í„°ê°€ í•„ìš”í•  ë•Œ

**í•´ê²°ì±… 1**: App Layerë¥¼ í†µí•œ ë°ì´í„° ì „ë‹¬
```
app/routes.tsx
  â”œâ”€â”€ blogger (propsë¡œ ë°ì´í„° ì „ë‹¬)
  â””â”€â”€ music (ë°ì´í„° ìƒì„±)
```

**í•´ê²°ì±… 2**: Shared Serviceë¥¼ í†µí•œ ë°ì´í„° ê³µìœ 
```
shared/services/dataStore.ts
  â”œâ”€â”€ blogger (ë°ì´í„° ì½ê¸°)
  â””â”€â”€ music (ë°ì´í„° ì“°ê¸°)
```

---

## ğŸ“Š ì˜ì¡´ì„± ë³µì¡ë„ ë¶„ì„

### ë‚®ì€ ë³µì¡ë„ (Good) âœ…
- `auth` â†’ `shared` (ë‹¨ìˆœ)
- `settings` â†’ `shared` (ë‹¨ìˆœ)

### ì¤‘ê°„ ë³µì¡ë„ (Acceptable) âš ï¸
- `blogger` â†’ `shared` + `settings` (ê°„ì ‘)
- `music` â†’ `shared` + `settings` (ê°„ì ‘)

### ë†’ì€ ë³µì¡ë„ (Review Needed) ğŸ”´
- `youtube` â†’ `shared` + `settings` + `music`
  - **í•´ê²°ì±…**: `music` ë°ì´í„°ëŠ” propsë‚˜ shared serviceë¡œ ì „ë‹¬

---

## ğŸ” ì˜ì¡´ì„± ê²€ì¦ ê·œì¹™

### ìë™ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

1. **ìˆœí™˜ ì˜ì¡´ì„± ê²€ì‚¬**
   ```bash
   # madgeë¥¼ ì‚¬ìš©í•œ ìˆœí™˜ ì˜ì¡´ì„± ê²€ì‚¬
   npx madge --circular src/
   ```

2. **ì˜ì¡´ì„± ë°©í–¥ ê²€ì‚¬**
   - Features â†’ Shared âœ…
   - Shared â†’ Features âŒ
   - Features â†’ Features (ì§ì ‘) âŒ

3. **ì˜ì¡´ì„± ë¬¸ì„œí™” ê²€ì‚¬**
   - ëª¨ë“  ëª¨ë“ˆì´ ì´ ë¬¸ì„œì— ê¸°ë¡ë˜ì–´ ìˆëŠ”ê°€?
   - ë³€ê²½ ì‹œ ë¬¸ì„œê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆëŠ”ê°€?

---

## ğŸ“ ì˜ì¡´ì„± ë³€ê²½ í”„ë¡œì„¸ìŠ¤

### ëª¨ë“ˆì— ì˜ì¡´ì„± ì¶”ê°€ ì‹œ

1. **ì˜ì¡´ì„± ë°©í–¥ í™•ì¸**
   - í—ˆìš©ëœ ë°©í–¥ì¸ê°€?
   - ìˆœí™˜ ì˜ì¡´ì„±ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ê°€?

2. **ë¬¸ì„œ ì—…ë°ì´íŠ¸**
   - `MODULE_DEPENDENCIES.md` ì—…ë°ì´íŠ¸
   - ì˜ì¡´ì„± ê·¸ë˜í”„ ì—…ë°ì´íŠ¸

3. **ì½”ë“œ ë¦¬ë·°**
   - ì˜ì¡´ì„±ì´ í•„ìš”í•œê°€?
   - ê³µí†µ ë¡œì§ìœ¼ë¡œ ì¶”ì¶œí•  ìˆ˜ ì—†ëŠ”ê°€?

4. **í…ŒìŠ¤íŠ¸**
   - ì˜ì¡´ì„± ë³€ê²½ í›„ í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸

---

## ğŸ› ï¸ ì˜ì¡´ì„± ê´€ë¦¬ ë„êµ¬

### ì¶”ì²œ ë„êµ¬

1. **madge** - ì˜ì¡´ì„± ê·¸ë˜í”„ ì‹œê°í™”
   ```bash
   npm install -D madge
   npx madge --image graph.png src/
   ```

2. **dependency-cruiser** - ì˜ì¡´ì„± ê·œì¹™ ê²€ì¦
   ```bash
   npm install -D dependency-cruiser
   npx depcruise src/
   ```

3. **ts-prune** - ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” export ì°¾ê¸°
   ```bash
   npm install -D ts-prune
   npx ts-prune
   ```

---

## ğŸ“‹ ëª¨ë“ˆë³„ ì˜ì¡´ì„± ìš”ì•½í‘œ

| ëª¨ë“ˆ | ì˜ì¡´í•˜ëŠ” ëª¨ë“ˆ ìˆ˜ | ì˜ì¡´ë°›ëŠ” ëª¨ë“ˆ ìˆ˜ | ë³µì¡ë„ | ìƒíƒœ |
|------|-----------------|-----------------|--------|------|
| auth | 6 | 4 | ë‚®ìŒ | âœ… |
| settings | 5 | 3 | ë‚®ìŒ | âœ… |
| blogger | 4 | 1 | ì¤‘ê°„ | âš ï¸ |
| music | 4 | 1 | ì¤‘ê°„ | âš ï¸ |
| youtube | 5 | 1 | ë†’ìŒ | ğŸ”´ |
| shared | 5 | ëª¨ë“  ëª¨ë“ˆ | ë‚®ìŒ | âœ… |

---

## ğŸ”„ ë‹¤ìŒ ë‹¨ê³„

1. **ì˜ì¡´ì„± ê·¸ë˜í”„ ì‹œê°í™”** - madgeë¥¼ ì‚¬ìš©í•œ ê·¸ë˜í”„ ìƒì„±
2. **ì˜ì¡´ì„± ê·œì¹™ ì„¤ì •** - dependency-cruiser ì„¤ì •
3. **CI/CD í†µí•©** - ì˜ì¡´ì„± ê²€ì¦ì„ CIì— ì¶”ê°€

---

## ğŸ“ ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë²„ì „ | ë³€ê²½ ë‚´ìš© | ì‘ì„±ì |
|------|------|----------|--------|
| 2024-12-02 | 1.0.0 | ì´ˆê¸° ë¬¸ì„œ ì‘ì„± | Development Team |

